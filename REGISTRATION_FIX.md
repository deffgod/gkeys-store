# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. Register API - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: 
- `register()` –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª `success` wrapper, –∫–∞–∫ `login()`
- Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ success: true, data: AuthResponse }`
- Frontend –ø—ã—Ç–∞–ª—Å—è –ø–æ–ª—É—á–∏—Ç—å `response.token` –Ω–∞–ø—Ä—è–º—É—é, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `success` wrapper –≤ `register()`
- –¢–µ–ø–µ—Ä—å `register()` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ `login()`

**–§–∞–π–ª**: `src/services/authApi.ts`

---

### 2. API Base URL - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ auto-detection

**–ü—Ä–æ–±–ª–µ–º–∞**:
- –ï—Å–ª–∏ `VITE_API_BASE_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ production, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–ª–æ —Å –æ—à–∏–±–∫–æ–π
- –ù–µ—Ç fallback –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è base URL –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ origin

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ auto-detection base URL –∏–∑ `window.location.origin` –≤ production
- –ï—Å–ª–∏ `VITE_API_BASE_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `${origin}/api`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å

**–§–∞–π–ª**: `src/services/api.ts`

---

### 3. URL Building - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è endpoint

**–ü—Ä–æ–±–ª–µ–º–∞**:
- `buildURL()` –Ω–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–ª endpoint (–¥–æ–±–∞–≤–ª—è–ª `/` –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª)
- –≠—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º URL

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è endpoint (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç `/` –≤ –Ω–∞—á–∞–ª–µ)
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ development —Ä–µ–∂–∏–º–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–§–∞–π–ª**: `src/services/api.ts`

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
- `src/services/authApi.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `src/services/api.ts` - —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ baseURL –∏ URL building

---

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://gkeys2.vercel.app`
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚úÖ API Client initialized with baseURL: https://gkeys2.vercel.app/api`
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üîó API Request: https://gkeys2.vercel.app/api/auth/register`
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ HTTP 405

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Network tab

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å `POST /api/auth/register`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - Status: 200 –∏–ª–∏ 201 (–Ω–µ 405)
   - Request URL: `https://gkeys2.vercel.app/api/auth/register`
   - Response: `{ success: true, data: { ... } }`

---

## üìã Environment Variables

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Vercel Dashboard —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
- `VITE_API_BASE_URL` = `https://gkeys2.vercel.app/api` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `DATABASE_URL` - PostgreSQL connection string
- `DIRECT_URL` - PostgreSQL direct connection
- `JWT_SECRET` - –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞
- `JWT_REFRESH_SECRET` - –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:
- `G2A_API_KEY`, `G2A_API_HASH` - –¥–ª—è G2A –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `REDIS_URL` - –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Vercel Dashboard ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Deployments
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π deployment
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Function Logs –¥–ª—è `/api/*` –∑–∞–ø—Ä–æ—Å–æ–≤
4. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏:
   - Database connection
   - Validation errors
   - Missing environment variables

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏:
   - –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `API base URL is required` ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `VITE_API_BASE_URL`
   - –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ HTTP 405 ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –Ω–∞ `/api/auth/register`
   - –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ HTTP 500 ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **Auto-detection**: –ï—Å–ª–∏ `VITE_API_BASE_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç base URL –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ origin
- **Debug Logging**: –í development —Ä–µ–∂–∏–º–µ –≤—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
- **Success Wrapper**: –í—Å–µ auth endpoints —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç `{ success: true, data: ... }` —Ñ–æ—Ä–º–∞—Ç

